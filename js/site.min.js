(function(){var overlay=$('body > .overlay'),selectElem=$('#site_select'),hasLocalStorage=('localStorage'in window&&window['localStorage']!==null),helpTrigger=$('.trigger');var Site={init:function(){var sel;if(!this.supports('BoxPack'))document.documentElement.className+=' noDisplayBox';$('#submit').click(function(){$('.result').fadeOut(200);});this.showHelp();this.selectChange();this.updateSelectedOption();},selectChange:function(){var that=this;selectElem.change(function(){hasLocalStorage&&(localStorage.setItem('selectedTemplate',this.value));that.updateTitle(this.value);});},updateSelectedOption:function(){var val;if(hasLocalStorage&&localStorage.getItem('selectedTemplate')){sel=$('option',selectElem).filter(function(i,elem){return elem.value===localStorage.getItem('selectedTemplate');});val=sel[0].value;sel.replaceWith('<option value="'+val+'" SELECTED>'+val+'</option>');this.updateTitle(sel.attr('value'));}},updateTitle:function(text){$('h1').children('span').css('opacity',0).text(text+' Round-up Generator').animate({'opacity':1},1000);},showHelp:function(){var i=1;helpTrigger.click(function(){var oH=overlay.outerHeight()/2,textarea=$('#assets');overlay.css('marginTop','-'+oH+'px');if(i%2===0){textarea.val("Like This... \r\n"+"http://codecanyon.net/item/ajax-contact-form/50846, \r\n"+"http://codecanyon.net/item/simple-php-contact-form/46679, \r\n"+"http://themeforest.net/item/sideways-portfolio-website-template/148323");textarea.focus(function(){$(this).val('').unbind('focus');});}
if(i%3===0){overlay.html("<p>Sheesh - you still can't figure this out? :D Fine, <a href='http://bit.ly/fHjWRj' target='_blank'>watch this video.</a> </p>");}
overlay.fadeToggle(500);i++;});},supports:(function(){var div=document.createElement('div'),vendors='Khtml Ms O Moz Webkit'.split(' '),len=vendors.length;return function(prop){if(prop in div.style)return true;prop=prop.replace(/^[a-z]/,function(val){return val.toUpperCase();});while(len--){if(vendors[len]+prop in div.style){return true;}}
return false;};})()}
Site.init();})();